%% given
q0 = -300; %W/m^2
L = 0.0125; %C
T3 = 10; %C
k = 1.0; %W/(m-C)

%% stiffness matrix
% ------------------------------
Ke = cell(2,1);
kL = k/L;
% ------------------------------
Ke{1} = [kL -kL 0; ...
        -kL  kL 0; ...
         0   0  0];
% ------------------------------
Ke{2} = [0  0   0; ...
         0  kL -kL; ...
         0 -kL  kL];
% ------------------------------
K = Ke{1}+Ke{2};

%% force vector
Fe = cell(2,1);
Fe{1} = [-q0; 0; 0];
Fe{2} = [0; 0; 0];
F = Fe{1}+Fe{2};

%% solution
Kr = K(1:2,1:2);
Fr = F(1:2)-K(1:2,3)*T3;
T = [Kr^-1*Fr; T3];
q = [0; 0; K(3,:)*T-F(3)];